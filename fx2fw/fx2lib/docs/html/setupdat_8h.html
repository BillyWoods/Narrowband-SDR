<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fx2lib: include/setupdat.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fx2lib
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">setupdat.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="fx2regs_8h_source.html">fx2regs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="delay_8h_source.html">delay.h</a>&quot;</code><br />
</div>
<p><a href="setupdat_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDEVICE__DSCR.html">DEVICE_DSCR</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCONFIG__DSCR.html">CONFIG_DSCR</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSTRING__DSCR.html">STRING_DSCR</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a94827395a42575d797238c7e9bd001af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a94827395a42575d797238c7e9bd001af">SETUP_VALUE</a>()&#160;&#160;&#160;<a class="el" href="fx2macros_8h.html#a7584982ad19a24aae10cd68ebaa9ba8f">MAKEWORD</a>(<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[3],<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[2])</td></tr>
<tr class="separator:a94827395a42575d797238c7e9bd001af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32fa5a506b8f47f345cfd9af65ac0ecb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a32fa5a506b8f47f345cfd9af65ac0ecb">SETUP_INDEX</a>()&#160;&#160;&#160;<a class="el" href="fx2macros_8h.html#a7584982ad19a24aae10cd68ebaa9ba8f">MAKEWORD</a>(<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[5],<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[4])</td></tr>
<tr class="separator:a32fa5a506b8f47f345cfd9af65ac0ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c634c74b25efe82fb9a8d2dc9fb8522"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a2c634c74b25efe82fb9a8d2dc9fb8522">SETUP_LENGTH</a>()&#160;&#160;&#160;<a class="el" href="fx2macros_8h.html#a7584982ad19a24aae10cd68ebaa9ba8f">MAKEWORD</a>(<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[7],<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[6])</td></tr>
<tr class="separator:a2c634c74b25efe82fb9a8d2dc9fb8522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f5852249dd5d965805958bce294d13"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a09f5852249dd5d965805958bce294d13">SETUP_TYPE</a>&#160;&#160;&#160;<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[0]</td></tr>
<tr class="separator:a09f5852249dd5d965805958bce294d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebcba58007794ba84e58fcd2eb589c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#adebcba58007794ba84e58fcd2eb589c2">DSCR_DEVICE_TYPE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:adebcba58007794ba84e58fcd2eb589c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f8f841c0b4e050036616e2b380d9c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a26f8f841c0b4e050036616e2b380d9c1">DSCR_CONFIG_TYPE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a26f8f841c0b4e050036616e2b380d9c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c93878383b9f7605c7feb2d5753b0f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a3c93878383b9f7605c7feb2d5753b0f8">DSCR_STRING_TYPE</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a3c93878383b9f7605c7feb2d5753b0f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3334ccdd8b3c6dd820c0c81197eb261"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#ad3334ccdd8b3c6dd820c0c81197eb261">DSCR_DEVQUAL_TYPE</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:ad3334ccdd8b3c6dd820c0c81197eb261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebeb7e5858a95f6e5c3de99d45132b38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#aebeb7e5858a95f6e5c3de99d45132b38">DSCR_OTHERSPD_TYPE</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:aebeb7e5858a95f6e5c3de99d45132b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6719faf45c26f0bba068554b06d734a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a6719faf45c26f0bba068554b06d734a4">DSCR_DEBUG_TYPE</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a6719faf45c26f0bba068554b06d734a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718f60b0ec796e17d169fdc850fc52a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a718f60b0ec796e17d169fdc850fc52a6">DSCR_BCD</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a718f60b0ec796e17d169fdc850fc52a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b6a62f0084b9e5ece6221475a9ceb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a82b6a62f0084b9e5ece6221475a9ceb1">DSCR_DEVICE_LEN</a>&#160;&#160;&#160;18</td></tr>
<tr class="separator:a82b6a62f0084b9e5ece6221475a9ceb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4bace14a270526e1fa93407fc6cab1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a8d4bace14a270526e1fa93407fc6cab1">DSCR_CONFIG_LEN</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a8d4bace14a270526e1fa93407fc6cab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a1133e77bbb4566cd4ccc79915b6ac036"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036">SETUP_DATA</a> { <br />
&#160;&#160;<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036ae03c702769ae2009942c89ec72cf2852">GET_STATUS</a>, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a053320670633ec996cfbc45327ae1622">CLEAR_FEATURE</a>, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a0b993b46c953347b36ceb0f7f3631f96">SET_FEATURE</a> =0x03, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a4db0b0c3e46f65ee98e282974369e9ea">SET_ADDRESS</a> =0x05, 
<br />
&#160;&#160;<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a6695f5a50d282a945f4f1bb5e85e8dd1">GET_DESCRIPTOR</a>, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a035ed6e745be60c13df29a77b7b7be04">SET_DESCRIPTOR</a>, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a92a3c4900f2065ad5f938db07891cce5">GET_CONFIGURATION</a>, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a18ae5638eb68ff59811e52dfeea1db89">SET_CONFIGURATION</a>, 
<br />
&#160;&#160;<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a41dadc500e4e0a4e795d2dc5ae40d4dc">GET_INTERFACE</a>, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a04e1a84d5ce129e25790abe98d448599">SET_INTERFACE</a>, 
<a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036a5c94106a122b86200dc1ab281a50c5ed">SYNC_FRAME</a>
<br />
 }</td></tr>
<tr class="separator:a1133e77bbb4566cd4ccc79915b6ac036"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3305f7d92e6bcc98272e19e3032b7b9e"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="fx2types_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a3305f7d92e6bcc98272e19e3032b7b9e">ep_addr</a> (<a class="el" href="fx2types_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> ep)</td></tr>
<tr class="separator:a3305f7d92e6bcc98272e19e3032b7b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6bf0b58c902d6fc13d9a0630d95c8a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#ad6bf0b58c902d6fc13d9a0630d95c8a0">handle_setupdata</a> ()</td></tr>
<tr class="separator:ad6bf0b58c902d6fc13d9a0630d95c8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873d26420c81b22db52bfc53b214e91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a873d26420c81b22db52bfc53b214e91a">handle_hispeed</a> (<a class="el" href="fx2types_8h.html#a67bb6a3d7ee6a2a5950ce437abbe31c8">BOOL</a> highspeed)</td></tr>
<tr class="separator:a873d26420c81b22db52bfc53b214e91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1cd5203a44c0ff6285dbfccaa3707247"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="fx2types_8h.html#a67bb6a3d7ee6a2a5950ce437abbe31c8">BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a1cd5203a44c0ff6285dbfccaa3707247">self_powered</a></td></tr>
<tr class="separator:a1cd5203a44c0ff6285dbfccaa3707247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed0635245ebea7919f2b0600d701b2d"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="fx2types_8h.html#a67bb6a3d7ee6a2a5950ce437abbe31c8">BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="setupdat_8h.html#a0ed0635245ebea7919f2b0600d701b2d">remote_wakeup_allowed</a></td></tr>
<tr class="separator:a0ed0635245ebea7919f2b0600d701b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utilities for handling setup data and vendor commands.</p>
<pre class="fragment"> This module needs initialized with a device descriptor.
 NOTE that your descriptors need to be located in code memory
 to use the SUDPTRH:L to auto transfer the data
 
 and vendor commands handler.  You have to provide callbacks.

DEVICE DESCRIPTORS
 
 // copy the dscr_asm file from the lib dir to your
 // own project directory, change it how
 // you want, and link it against your project

VENDOR COMMANDS

  0xA0 is handled by ez-usb firmware.  (Upload/Download ram)
  0xA1-0xAF is reserved for other ez-usb functions so don't use that
  Any other value (Above 0x0C anyway) can be used for device specific
  commands.
  
  If you include this file, you need to define a function for vendor
  commands even if you don't want to implement any vendor commands.
  The function should return TRUE if you handled the command and FALSE
  if you didn't.  The handle_setup function calls
  EP0CS |= bmHSNAK;
  before returning so there is no reason to set that bit in your
  vendor command handler.  (You do need to Set EP0 data and
  byte counts appropriately though.)
  
  // return TRUE if you handle the command 
  // you can directly get SETUPDAT[0-7] for the data sent with the command
  BOOL handle_vendorcommand(BYTE cmd) { return FALSE; }
  // a note  on vencor commands
  // this from the usb spec for requesttype
        D7 Data Phase Transfer Direction
        0 = Host to Device
        1 = Device to Host
        D6..5 Type
        0 = Standard
        1 = Class
        2 = Vendor
        3 = Reserved
        D4..0 Recipient
        0 = Device
        1 = Interface
        2 = Endpoint
        3 = Other
        4..31 = Reserved
  // if you want libusb to send data back to the host via ep0, you need to make
  // sure the requesttype had 1 in bit 7.  This is for libusb on linux anyway.
  
  
  // set *alt_ifc to the current alt interface for ifc
  BOOL handle_get_interface(BYTE ifc, BYTE* alt_ifc) { *ifc=0;*alt_ifc=0;}
  // return TRUE if you set the interface requested
  // NOTE this function should reconfigure and reset the endpoints
  // according to the interface descriptors you provided.
  BOOL handle_set_interface(BYTE ifc,BYTE alt_ifc) { return TRUE; }
  // handle getting and setting the configuration
  // 0 is the default.  If you support more than one config
  // keep track of the config number and return the correct number
  // config numbers are set int the dscr file.
  BYTE handle_get_configuration() { return 1; }
  // return TRUE if you handle this request
  // NOTE changing config requires the device to reset all the endpoints
  BOOL handle_set_configuration(BYTE cfg) { return FALSE; }
  // ep num (byte 7 is dir 1=IN,0=OUT)
  // client needs to reset the endpoint to default state
  void handle_reset_ep(BYTE ep) { }</pre> 
<p class="definition">Definition in file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a718f60b0ec796e17d169fdc850fc52a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718f60b0ec796e17d169fdc850fc52a6">&#9670;&nbsp;</a></span>DSCR_BCD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_BCD&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00181">181</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a8d4bace14a270526e1fa93407fc6cab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4bace14a270526e1fa93407fc6cab1">&#9670;&nbsp;</a></span>DSCR_CONFIG_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_CONFIG_LEN&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00207">207</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a26f8f841c0b4e050036616e2b380d9c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f8f841c0b4e050036616e2b380d9c1">&#9670;&nbsp;</a></span>DSCR_CONFIG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_CONFIG_TYPE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00174">174</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a6719faf45c26f0bba068554b06d734a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6719faf45c26f0bba068554b06d734a4">&#9670;&nbsp;</a></span>DSCR_DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_DEBUG_TYPE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00178">178</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a82b6a62f0084b9e5ece6221475a9ceb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b6a62f0084b9e5ece6221475a9ceb1">&#9670;&nbsp;</a></span>DSCR_DEVICE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_DEVICE_LEN&#160;&#160;&#160;18</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00185">185</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="adebcba58007794ba84e58fcd2eb589c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adebcba58007794ba84e58fcd2eb589c2">&#9670;&nbsp;</a></span>DSCR_DEVICE_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_DEVICE_TYPE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00173">173</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="ad3334ccdd8b3c6dd820c0c81197eb261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3334ccdd8b3c6dd820c0c81197eb261">&#9670;&nbsp;</a></span>DSCR_DEVQUAL_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_DEVQUAL_TYPE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00176">176</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="aebeb7e5858a95f6e5c3de99d45132b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebeb7e5858a95f6e5c3de99d45132b38">&#9670;&nbsp;</a></span>DSCR_OTHERSPD_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_OTHERSPD_TYPE&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00177">177</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a3c93878383b9f7605c7feb2d5753b0f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c93878383b9f7605c7feb2d5753b0f8">&#9670;&nbsp;</a></span>DSCR_STRING_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DSCR_STRING_TYPE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00175">175</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a32fa5a506b8f47f345cfd9af65ac0ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32fa5a506b8f47f345cfd9af65ac0ecb">&#9670;&nbsp;</a></span>SETUP_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SETUP_INDEX</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="fx2macros_8h.html#a7584982ad19a24aae10cd68ebaa9ba8f">MAKEWORD</a>(<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[5],<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[4])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00101">101</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a2c634c74b25efe82fb9a8d2dc9fb8522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c634c74b25efe82fb9a8d2dc9fb8522">&#9670;&nbsp;</a></span>SETUP_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SETUP_LENGTH</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="fx2macros_8h.html#a7584982ad19a24aae10cd68ebaa9ba8f">MAKEWORD</a>(<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[7],<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[6])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00102">102</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a09f5852249dd5d965805958bce294d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f5852249dd5d965805958bce294d13">&#9670;&nbsp;</a></span>SETUP_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SETUP_TYPE&#160;&#160;&#160;<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[0]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00103">103</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<a id="a94827395a42575d797238c7e9bd001af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94827395a42575d797238c7e9bd001af">&#9670;&nbsp;</a></span>SETUP_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SETUP_VALUE</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="fx2macros_8h.html#a7584982ad19a24aae10cd68ebaa9ba8f">MAKEWORD</a>(<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[3],<a class="el" href="fx2regs_8h.html#a58174b4de87a5da95d96a820749b0aff">SETUPDAT</a>[2])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00100">100</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1133e77bbb4566cd4ccc79915b6ac036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1133e77bbb4566cd4ccc79915b6ac036">&#9670;&nbsp;</a></span>SETUP_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="setupdat_8h.html#a1133e77bbb4566cd4ccc79915b6ac036">SETUP_DATA</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>see TRM 2-3 here are the usb setup data commands these are the usb spec pretty much </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036ae03c702769ae2009942c89ec72cf2852"></a>GET_STATUS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a053320670633ec996cfbc45327ae1622"></a>CLEAR_FEATURE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a0b993b46c953347b36ceb0f7f3631f96"></a>SET_FEATURE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a4db0b0c3e46f65ee98e282974369e9ea"></a>SET_ADDRESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a6695f5a50d282a945f4f1bb5e85e8dd1"></a>GET_DESCRIPTOR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a035ed6e745be60c13df29a77b7b7be04"></a>SET_DESCRIPTOR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a92a3c4900f2065ad5f938db07891cce5"></a>GET_CONFIGURATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a18ae5638eb68ff59811e52dfeea1db89"></a>SET_CONFIGURATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a41dadc500e4e0a4e795d2dc5ae40d4dc"></a>GET_INTERFACE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a04e1a84d5ce129e25790abe98d448599"></a>SET_INTERFACE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1133e77bbb4566cd4ccc79915b6ac036a5c94106a122b86200dc1ab281a50c5ed"></a>SYNC_FRAME&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="setupdat_8h_source.html#l00123">123</a> of file <a class="el" href="setupdat_8h_source.html">setupdat.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3305f7d92e6bcc98272e19e3032b7b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3305f7d92e6bcc98272e19e3032b7b9e">&#9670;&nbsp;</a></span>ep_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="fx2types_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>* ep_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fx2types_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the control/status register for an end point (bit 7=1 for IN, 0 for out </p>

</div>
</div>
<a id="a873d26420c81b22db52bfc53b214e91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873d26420c81b22db52bfc53b214e91a">&#9670;&nbsp;</a></span>handle_hispeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_hispeed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fx2types_8h.html#a67bb6a3d7ee6a2a5950ce437abbe31c8">BOOL</a>&#160;</td>
          <td class="paramname"><em>highspeed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For devices to properly handle usb hispeed (This is if your descriptor has high speed and full speed versions and it should since the fx2lp is a high speed capable device ) enable both USBRESET and HISPEED interrupts and call this function to switch the descriptors. This function uses a __critical section to switch the descriptors and is safe to call from the hispeed or reset interrupt. See <a class="el" href="fw_8c-example.html">fw.c</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">highspeed</td><td>Call the function with highspeed = TRUE if calling because the highspeed interrupt was received. If calling from usbreset, call with highspeed=false </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fw_8c-example.html#a32">fw.c</a>.</dd>
</dl>
</div>
</div>
<a id="ad6bf0b58c902d6fc13d9a0630d95c8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6bf0b58c902d6fc13d9a0630d95c8a0">&#9670;&nbsp;</a></span>handle_setupdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_setupdata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fw_8c-example.html#a15">fw.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0ed0635245ebea7919f2b0600d701b2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed0635245ebea7919f2b0600d701b2d">&#9670;&nbsp;</a></span>remote_wakeup_allowed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="fx2types_8h.html#a67bb6a3d7ee6a2a5950ce437abbe31c8">BOOL</a> remote_wakeup_allowed</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>remote_wakeup_allowed defaults to FALSE but can be set to TRUE with SET_FEATURE from the host. (firmware shouldn't set this.) </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fw_8c-example.html#a21">fw.c</a>.</dd>
</dl>
</div>
</div>
<a id="a1cd5203a44c0ff6285dbfccaa3707247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd5203a44c0ff6285dbfccaa3707247">&#9670;&nbsp;</a></span>self_powered</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="fx2types_8h.html#a67bb6a3d7ee6a2a5950ce437abbe31c8">BOOL</a> self_powered</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>self_powered is set to FALSE by default. It is used for GET_FEATURE requests. Firmware can set it to TRUE if the device is not powered by the USB bus. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
